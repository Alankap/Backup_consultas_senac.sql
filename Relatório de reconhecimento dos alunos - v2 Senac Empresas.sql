SELECT u.id AS "Id do aluno", CONCAT(u.firstname, ' ', u.lastname) AS "Nome do Aluno", c.id AS "Id do curso", c.fullname AS "Nome do curso", b.name AS "Nome do premio", CASE WHEN b.type = 1 THEN 'Prêmio do Curso' WHEN b.type = 2 THEN 'Prêmio do Site' ELSE 'Desconhecido' END AS "Tipo do prémio", FROM_UNIXTIME(bi.dateissued, '%d/%m/%Y %H:%i:%s') AS "data da emissão" FROM mdl_badge b LEFT JOIN mdl_badge_issued bi ON bi.badgeid = b.id LEFT JOIN mdl_user u ON u.id = bi.userid LEFT JOIN mdl_course c ON c.id = b.courseid WHERE bi.dateissued IS NOT NULL ORDER BY "Nome do Aluno", "Data da emissão";
